{% extends "temples/web.html" %}

{% block page_content %}
<div>
    {# Fetch the related Airplane document #}
    {% set airplane = frappe.get_doc("Airplane", doc.airplane) %}
    
    {# Fetch the related Airline document from the Airplane #}
    {% set airline = frappe.get_doc("Airline", airplane.airline) %}
    
    <h2>Flight Details</h2>
    <li>Airline: {{ airline.name }}</li>
    <li>{{ doc.source_airport_code }} -> {{ doc.destination_airport_code }}</li>
    <li>{{ frappe.utils.format_date(doc.date_of_departure, "d MMMM, YYYY") }} | {{ frappe.utils.format_time(doc.time_of_departure) }}</li>
    <li>Duration: {{ doc.duration }}</li>
    <a href="/book-flight/new?flight_price={{doc.flight_price}}/" style="text-decoration: none;">
        <button>Book Flight</button>
    </a>

</div>
{% endblock %}